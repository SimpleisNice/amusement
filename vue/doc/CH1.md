# CH1 프로그레시브 프레임워크 Vue.js

Vue.js 는 뷰 레이어에 특화된 라이브러리다.

# 1.1 복잡해진 모던 웹 프런트 엔드 개발
### 1.1.1 웹의 탄생과 웹 기반 시스템의 발전
### 1.1.2 Ajax 의 등장
### 1.1.3 HTML5, NODE.js, ES2015, React 이후의 세계
### 1.1.4 현재 당면 과제와 Vue.js

# 1.2 Vue.js 특징
### 1.2.1 낮은 학습 비용
### 1.2.2 컴포넌트 지향을 통한 UI 구조화
### 1.2.3 리액티브 데이터 바인딩
리액티브 데이터 바인딩이란, HTML 템플릿 안에서 대상 DOM 요소에 바인딩을 지정해 Vue.js 가 해당 데이터의 변화를 감지할 때마다 바인딩된 DOM 요소에 표시되는 내용도 함께 업데이트하는 것을 말한다.

# 1.3 Vue.js 설계 사상
프레임워크는 어떤 경우든지 규모와 상관없이 단계적으로 유연하게 사용할 수 있어야 한다.

### 1.3.1 프레임워크의 복잡성
프레임워크라는 도구를 사용하려면 도구 자체의 복잡성에서 오는 비용과 애플리케이션 개발의 복잡성에서 오는 비용이 균형을 이루도록 적합한 프레임우커를 선택하는 것이 중요하다.
### 1.3.2 요구사항의 변화를 수용할 수 있는 프레임워크
프로그레시브 프레임워크
- 문제를 해결할 수 있는 적합한 라이브러리를 적시에 도입해 문제를 해결
- 최초에 작은 규모로 시작해 규모가 커짐에 따라 적절한 라이브러리와 도구를 도입해 대응하는 유연성도 갖추고 있다.
- 항상 해당 시점에서 최소의 비용으로 사용 가능한 상태를 유지하므로 불필요한 학습 비용을 발생시키지 않는다.
- 최초 단계에서는 간단하고 쉽게 사용할 수 있도록 하되, 이후 단계에서 규모가 커져도 항상 사용하기 쉬운 프레임워크를 유지하는 것이다.

# 1.4 프로그레시브 프레임워크가 제공하는 단계적 영역
- 1단계: 선언적 렌더링
- 2단계: 컴포넌트 시스템
- 3단계: 클라이언트 사이드 렌더링
- 4단계: 대규모 애플리케이션 상태 관리
- 5단계: 빌드 시스템
- 6단계: 데이터 퍼시스턴시


### 1.4.1 선언적 렌더링(declaritive rendering)
해당 영역은 선언적 DOM 렌더링과 관련된 영역이다.
- 여기서 말하는 선언이란 HTML 문서의 구조를 웹 브라우저가 해석할 수 있도록 기술하는 것을 말함

HTML 템플릿에 렌더링 대상을 선언적으로 기술해 데이터가 변경될 때마다 DOM 을 반응적으로 렌더링하고 사용자 입력 데이터를 동기화 할 수 있다.
### 1.4.2 컴포넌트 시스템
UI 를 모듈화해 재사용할 수 있게 해주는 영역이다.
### 1.4.3 클라이언트 사이드 라우팅
단일 페이지 애플리케이션이 동작하기 위해 필요한 영역

라우팅이란 간단히 말해 애플리케이션의 URL 설계, 지시와 같은 것이다.
### 1.4.4 대규모 상태 관리
컴포넌트 간에 상태를 공유하는 방법을 필요로 하는 영역
### 1.4.5 빌드 시스템
웹 애플리케이션을 구성하는 컴포넌트 관리, 운영 환경 배포, 프로젝트 구성 등과 관련된 영역
### 1.4.6 클라이언트-서버 데이터 퍼시스턴스
웹 애플리케이션의 복잡한 데이터는 클라이언트 사이드와 서버 사이드 양쪽 모두에게 퍼시스턴스 데이터로 유지돼야 한다.

# 1.5 Vue.js 의 기반 기술
### 1.5.1 컴포넌트 시스템
Vue.js 는 컴포넌트를 쉽게 다루기 위한 라이브러리다.

규모가 큰 시스템은 컴포넌트 단위 개발을 통해 각각의 관심사를 분리하고 매끄럽게 개발을 진행할 수 있다.
### 1.5.2 리액티브 시스템
Vue.js 의 리액티브 시스템은 옵저버 패턴을 기반으로 구현된 것이다.

리액티브 시스템은 컴포넌트 렌더링의 골격이 된다.

DOM 을 더욱 정교하고 잦은 빈도로 조작해야 하는 애플리케이션에서는 데이터 바인딩이 매우 유용하다.

상태 변화 탐지 뿐만 아니라 값의 의존관계에 따라 수정 등 DOM 을 조작하는 데 있어 빼놓을 수 없는 다양한 기능을 개발자가 직접 신경 쓸 필요가 없게 처리해 준다.

```
리액티브 시스템의 내부
- 계산 프로퍼티에서는 와처 내부의 게터가 계산 프로퍼티로 정의하는 함수 역할을 한다.
- 계산 프로퍼티를 처음 참조하면 와처 내부 있는 게터를 거쳐 리액티브 프로퍼티의 계산 결과가 와처에 캐싱되며
- 이와 함께 리액티브 프로퍼티의 의존관계 추적도 완료된다.
- 그 다음 이 계산 프로퍼티가 다시 참조될 때는 캐싱된 값을 반환해 계산 비용을 절약할 수 있다.
- 이후 계산 프로퍼티에서 이 값이 의존하는 리액티브 프로퍼티의 일부가 대입 등의 이유로 변경되면 후크 처리를 통해
- 와처에 이 변경이 통지되며 내부 게터가 이 통지를 전달받아 프로퍼티 값을 다시 계산해 그 결과가 와처에 새로 캐싱된다.
- 반면 컴포넌트 렌더링에서는 와처 내부의 게터가 컴포넌트를 렌더링하는 함수 역할을 한다.
- 모든 컴포넌트가 와처를 갖고 있기 때문에 컴포넌트의 모든 데이터(계산 프로퍼티 포함)를 리액티브 프로퍼티로 모니터링한다.
- 컴포넌트 렌더링은 모니터링 대상 중 어떤 리액티브 프로퍼티가 값이 변경됐다는 통지를 보내면 
- 그때마다 와처의 게터가 실행돼 컴포넌트가 렌더링되는 구조
```

### 1.5.3 렌더링 시스템
Vue.js 는 가상 DOM 을 이용해 DOM 을 고속으로 렌더링한다.

가상 DOM 은 DOM 을 간편하고 빠르게 제어하기 위한 기술

더 편리하고 빠르게 다룰 수 있는 DOM 구조의 대체물을 만든 다음, 이 대체물을 조작하고 그 결과를 실제 DOM 에 반영한다.


```
Vue.js 에서 가상 DOM 을 처리하는 과정
- 가상 DOM 처리 과정을 좇아가 보자
- 여기서 말하는 처리 과정은 빌드 도구 등을 이용해 전처리가 끝난 상황을 기준으로 한다.
- Vue.js 컴파일러는 템플릿을 컴파일하면 생성된 AST 를 최적화 한다.
- 이 최적화 과정은 가상 DOM 을 이용한 렌더링 성능 향상을 위해 정적 노드와 정적 부분 트리를 검출해 AST 에 마킹하는 과정을 포함
- 그다음 마킹을 통해 최적화된 AST 으로부터 리액티브 프로퍼티 기반 렌더링을 수행하는 render 함수와 정적 렌더링을 수행하는 staticRenderingFns 함수 이렇게 두 함수를 생성
- 그리고 이렇게 생성된 두 함수를 실행해 가상 DOM 트리를 생성하고 이 가상 DOM 트리에 대한 diff, patch 연산을 통해 실제 DOM 요소가 생성돼 렌더링이 수행된다.
- 최초 렌더링 이후부터는 앞서 설명한 리액티브 시스템을 조합한 렌더링을 사용해 리액티브 프로퍼티 값이 수정될 때마다 다시 렌더링하는 방법으로 컴포넌트 표시 내용을 업데이트 한다.
```

# 1.6 Vue.js 생태계
Vue Router

Vuex

Vue Loadeer

Vue CLI

Vue DevTools

Nuxt.js

Onsen UI

Awesome Vue

Vue Curated

# 1.7 Vue.js 첫걸음
```html
<!DOCTYPE html>

<title>Vue.js 시작하기</title>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<div id="app"></div>

<script>
new Vue({
	template: '<p>{{ msg }}</p>',
  data: {
  	msg: 'Hello world!'
  }
}).$mount('#app')
</script>
```